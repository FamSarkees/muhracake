<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Muhra Cake</title>
    <link rel="icon" href="path_to_logo.ico" type="image/x-icon">
    <link rel="stylesheet" href="styles.css">
    <style>

html, body {
    overflow-x: hidden; /* ÙŠÙ…Ù†Ø¹ Ø§Ù„ØªÙ…Ø±ÙŠØ± Ø§Ù„Ø£ÙÙ‚ÙŠ Ø¨Ø´ÙƒÙ„ ÙƒØ§Ù…Ù„ */
}

        /* Ø§Ù„ØªÙ†Ø³ÙŠÙ‚Ø§Øª Ù‡Ù†Ø§... */
        #loading {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.8);
            color: #ffcc00;
            display: flex;
            justify-content: center;
            align-items: center;
            font-size: 24px;
            z-index: 1000;
        } 
        /* ØªÙ†Ø³ÙŠÙ‚ ØµÙˆØ±Ø© Ø§Ù„Ù…Ù†ØªØ¬ Ø¹Ù†Ø¯ Ø§Ù„Ø¶ØºØ· Ø¹Ù„ÙŠÙ‡Ø§ */
        .product-image {
            cursor: pointer; /* ØªØºÙŠÙŠØ± Ø´ÙƒÙ„ Ø§Ù„Ù…Ø¤Ø´Ø± Ø¹Ù†Ø¯ ØªÙ…Ø±ÙŠØ± Ø§Ù„ÙØ£Ø±Ø© */
        }
        .image-modal {
            display: none; /* Ø¥Ø®ÙØ§Ø¡ Ø§Ù„ØµÙˆØ±Ø© ÙÙŠ Ø§Ù„Ø¨Ø¯Ø§ÙŠØ© */
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.8);
            justify-content: center;
            align-items: center;
            z-index: 1001;
        }
        .image-modal img {
            max-width: 80%;
            max-height: 80%;
        }
    </style>
</head>
<body>
    <div id="loading">
        <img src="https://github.com/FamSarkees/muhracake/blob/main/Logo/muhra.png" alt="Logo">
    </div>
    <header>
        <div></div>
        <img src="https://github.com/FamSarkees/muhracake/blob/main/Logo/mc.png" alt="Header Image" class="header-image">
        <div class="social-icons">
            <a href="https://facebook.com" target="_blank" class="icon facebook"></a>
            <a href="https://wa.me/your-number" target="_blank" class="icon whatsapp"></a>
            <a href="https://instagram.com" target="_blank" class="icon instagram"></a>
        </div>

        <a href="#" class="homeicon" title="home page">
            <div class="houseshape">
                <div class="roof"></div>
                <div class="walls"> </div>  
            </div>
        </a>
    </header>

    <div class="cart" id="cart">
        ğŸ›’
        <span id="cart-count">0</span>
    </div>

    <section class="hero">
        <h2>Welcome to Muhra Cake</h2>
        <p>Where every slice brings a smile!</p>
        <a href="#" class="btn">Shop Now</a>
    </section>

    <section class="products">
        <h3>Our Best Cakes</h3>
        <div class="product-grid" id="productList"></div>

        <div class="product custom-order" id="customOrder">
            <div class="custom-circle"><span>+</span></div>
            <p class="p_words">Ø¹Ù„Ù‰ Ù…Ø²Ø§Ø¬Ùƒ</p>
        </div>
    </section>

    <div id="orderModal" class="modal">
        <div class="modal-content">
            <span class="close">&times;</span>
            <h2>Ø·Ù„Ø¨ Ù…Ø®ØµØµ</h2>
            <div class="cart-products" id="cartProductsList"></div>
            <form id="orderForm">
                <label for="name">Ø§Ù„Ø§Ø³Ù…:</label>
                <input type="text" id="name" required>
                <label for="phone">Ø±Ù‚Ù… Ø§Ù„ØªÙ„ÙŠÙÙˆÙ†:</label>
                <input type="tel" id="phone" required>
                <label for="mobile">Ø±Ù‚Ù… Ø§Ù„Ù…ÙˆØ¨Ø§ÙŠÙ„:</label>
                <input type="tel" id="mobile" required>
                <label for="address">Ø§Ù„Ø¹Ù†ÙˆØ§Ù†:</label>
                <input type="text" id="address" required>
                <label for="notes">Ù…Ù„Ø§Ø­Ø¸Ø§Øª:</label>
                <textarea id="notes" rows="4"></textarea>
                <label for="priceTotal">Ù…Ø¬Ù…ÙˆØ¹ Ø§Ù„Ø£Ø³Ø¹Ø§Ø±:</label>
                <input type="text" id="priceTotal" readonly>
                <label for="imageUpload">Ø±ÙØ¹ ØµÙˆØ±Ø©:</label>
                <input type="file" id="imageUpload" accept="image/*">
                <button type="submit">Ø¥Ø±Ø³Ø§Ù„ Ø§Ù„Ø·Ù„Ø¨</button>
            </form>
        </div>
    </div>

    <div class="image-modal" id="imageModal" onclick="closeImageModal()">
        <img id="modalImage" src="" alt="Product Image">
    </div>

    <footer>
        <p>&copy; 2024 Muhra Cake. All Rights Reserved.</p>
    </footer>

    <script>
        const productList = JSON.parse(localStorage.getItem('products')) || [];
        let cartCount = 0;
        const cartProducts = [];

        const displayProducts = () => {
            const productContainer = document.getElementById('productList');
            productContainer.innerHTML = '';

            productList.forEach(product => {
                const productDiv = document.createElement('div');
                productDiv.className = 'product';

                const productImage = document.createElement('img');
                productImage.src = product.image; 
                productImage.alt = product.name;
                productImage.className = 'product-image';
                productImage.onclick = () => openImageModal(product.image); // Ø¥Ø¶Ø§ÙØ© ÙˆØ¸ÙŠÙØ© Ù„ÙØªØ­ Ø§Ù„ØµÙˆØ±Ø©

                const productName = document.createElement('h2');
                productName.textContent = product.name;

                const productDescription = document.createElement('p');
                productDescription.textContent = product.description;

                const productPrice = document.createElement('p');
                let price = product.price;

                if (product.discount > 0) {
                    const oldPrice = document.createElement('span');
                    oldPrice.textContent = `${price} LE`;
                    oldPrice.className = 'old-price';
                    productPrice.appendChild(oldPrice);
                    price -= (price * product.discount / 100);

                    const discountBanner = document.createElement('span');
                    discountBanner.textContent = ` ${product.discount}%`;
                    discountBanner.className = 'discount-banner';
                    productDiv.appendChild(discountBanner);
                }
                
                const newPrice = document.createElement('strong');
                newPrice.className = 'product-price';
                newPrice.textContent = `${price.toFixed(2)} LE`;
                productPrice.appendChild(newPrice);

                const addButton = document.createElement('button');
                addButton.className = 'addButton';
                addButton.textContent = 'Add to Cart';
                addButton.onclick = () => addToCart(product);

                productDiv.appendChild(productImage);
                productDiv.appendChild(productName);
                productDiv.appendChild(productDescription);
                productDiv.appendChild(productPrice);
                productDiv.appendChild(addButton);
                productContainer.appendChild(productDiv);
            });
        };

        const addToCart = (product) => {
            let price = product.price; // Ø§Ù„Ø³Ø¹Ø± Ø§Ù„Ø£ØµÙ„ÙŠ

            // Ø¥Ø°Ø§ ÙƒØ§Ù† Ù‡Ù†Ø§Ùƒ Ø®ØµÙ…ØŒ Ù‚Ù… Ø¨Ø­Ø³Ø§Ø¨Ù‡
            if (product.discount > 0) {
                price -= (price * product.discount / 100); // Ø­Ø³Ø§Ø¨ Ø§Ù„Ø³Ø¹Ø± Ø¨Ø¹Ø¯ Ø§Ù„Ø®ØµÙ…
            }

            cartCount++;
            document.getElementById('cart-count').textContent = cartCount;
            // Ø£Ø¶Ù Ø§Ù„Ù…Ù†ØªØ¬ Ø¥Ù„Ù‰ Ø§Ù„Ø³Ù„Ø© Ù…Ø¹ Ø§Ù„Ø³Ø¹Ø± Ø¨Ø¹Ø¯ Ø§Ù„Ø®ØµÙ…
            cartProducts.push({ ...product, price }); // Ø¥Ø¶Ø§ÙØ© Ø§Ù„Ø³Ø¹Ø± Ø¨Ø¹Ø¯ Ø§Ù„Ø®ØµÙ…
            updateCartProductsList();
            updatePriceTotal();
        };

        const updateCartProductsList = () => {
            const cartProductsList = document.getElementById('cartProductsList');
            cartProductsList.innerHTML = '';

            cartProducts.forEach((product, index) => {
                const productItem = document.createElement('div');
                productItem.textContent = product.name;

                const removeButton = document.createElement('button');
                removeButton.textContent = 'X';
                removeButton.onclick = () => removeFromCart(index);

                productItem.appendChild(removeButton);
                cartProductsList.appendChild(productItem);
            });
        };

        const removeFromCart = (index) => {
            cartProducts.splice(index, 1);
            cartCount--;
            document.getElementById('cart-count').textContent = cartCount;
            updateCartProductsList();
            updatePriceTotal();
        };

        const updatePriceTotal = () => {
            const total = cartProducts.reduce((sum, product) => sum + product.price, 0);
            document.getElementById('priceTotal').value = `${total.toFixed(2)} LE`;
        };

        const modal = document.getElementById("orderModal");
        const closeButton = document.getElementsByClassName("close")[0];

        document.querySelector('.custom-order').onclick = function() {
            modal.style.display = "flex";
        }

        closeButton.onclick = function() {
            modal.style.display = "none";
        }

        window.onclick = function(event) {
            if (event.target == modal) {
                modal.style.display = "none";
            }
        }

        document.getElementById("orderForm").onsubmit = function(event) {
            event.preventDefault();
            // Ø§Ù„ØªØ¹Ø§Ù…Ù„ Ù…Ø¹ Ø§Ù„Ø·Ù„Ø¨
            alert("Ø·Ù„Ø¨Ùƒ ØªÙ… Ø§Ø³ØªÙ„Ø§Ù…Ù‡!");
            cartProducts.length = 0; // ØªÙØ±ÙŠØº Ø§Ù„Ø³Ù„Ø©
            cartCount = 0;
            document.getElementById('cart-count').textContent = cartCount;
            updateCartProductsList();
            document.getElementById("orderForm").reset();
            document.getElementById('priceTotal').value = '';
            modal.style.display = "none"; // Ø¥ØºÙ„Ø§Ù‚ Ø§Ù„Ù…ÙˆØ¯Ø§Ù„
        }

        const openImageModal = (imageSrc) => {
            const modalImage = document.getElementById('modalImage');
            modalImage.src = imageSrc;
            document.getElementById('imageModal').style.display = 'flex';
        }

        const closeImageModal = () => {
            document.getElementById('imageModal').style.display = 'none';
        }

        // Ø¥ØºÙ„Ø§Ù‚ Ø§Ù„ØµÙˆØ±Ø© Ø¹Ù†Ø¯ Ø§Ù„Ø¶ØºØ· Ø¹Ù„Ù‰ Ø£ÙŠ Ù…ÙƒØ§Ù†
        window.onclick = (event) => {
            const imageModal = document.getElementById('imageModal');
            if (event.target == imageModal) {
                closeImageModal();
            } else if (event.target == modal) {
                modal.style.display = "none";
            }
        };

        window.onload = function() {
            setTimeout(() => {
                document.getElementById('loading').style.display = 'none';
                displayProducts(); // Ø¹Ø±Ø¶ Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª Ø¨Ø¹Ø¯ Ø§Ù„ØªØ­Ù…ÙŠÙ„
            }, 2000);
        }
 document.getElementById('cart').onclick = function() {
            modal.style.display = "flex";
        }
    </script>
</body>
</html>
